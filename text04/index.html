<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>拖动图片在指定区域显示</title>
		<style>
			div{
				border:2px solid gray;
				width:180px;
				height:180px;
			}
		</style>
	</head>
	
	<body>
		<h3>上传头像</h3>
		<div id="file" ondrop="drop(event)" ondragover="allowDrop(event)" ></div>
		<script>
			function allowDrop(e){
				e.preventDefault();
			}
			function drop(e){
				e.preventDefault(); 
				var file = document.getElementById("file");
    			var f= e.dataTransfer.files[0];
    			if(!/image\/\w+/.test(f.type)){
    				alert("请确保文件为图像类型");
    				return false;
    			}
        		var fileReader=new FileReader();
        		fileReader.readAsDataURL(f);
        		fileReader.onload = function(){
        			file.innerHTML="<img src='"+fileReader.result+"' width='180px' height='180px' />";
        		}
            }
		</script>
	</body>
</html>
